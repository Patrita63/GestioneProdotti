{"ast":null,"code":"import { LOCALE_ID } from '@angular/core';\nimport { AppConfig } from '../shared/appconfig.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/restapi.service\";\nimport * as i2 from \"ngx-webstorage\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction RegioniListComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const regione_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", regione_r4.ID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(regione_r4.Name);\n  }\n}\n\nfunction RegioniListComponent_div_12_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const province_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", province_r6.ID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", province_r6.Name, \" \");\n  }\n}\n\nfunction RegioniListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Provincia\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 4);\n    i0.ɵɵlistener(\"change\", function RegioniListComponent_div_12_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.changeProvincia($event));\n    });\n    i0.ɵɵelementStart(4, \"option\", 5);\n    i0.ɵɵtext(5, \"seleziona provincia\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, RegioniListComponent_div_12_option_6_Template, 2, 2, \"option\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.provSelectedList);\n  }\n}\n\nfunction RegioniListComponent_div_14_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const comune_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", comune_r10.ID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(comune_r10.Name);\n  }\n}\n\nfunction RegioniListComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Comune\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 4);\n    i0.ɵɵlistener(\"change\", function RegioniListComponent_div_14_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.changeComune($event));\n    });\n    i0.ɵɵelementStart(4, \"option\", 5);\n    i0.ɵɵtext(5, \"seleziona comune\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, RegioniListComponent_div_14_option_6_Template, 2, 2, \"option\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.comSelectedList);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/daticomune\"];\n};\n\nfunction RegioniListComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"a\", 10);\n    i0.ɵɵtext(2, \"View\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nexport let RegioniListComponent = /*#__PURE__*/(() => {\n  class RegioniListComponent {\n    constructor(callApiService, locStorage, locale) {\n      this.callApiService = callApiService;\n      this.locStorage = locStorage;\n      this.locale = locale;\n      this.rootAppUrl = \"\"; // this.regioneList = regioni;\n\n      this.regioneList = [];\n      this.provSelectedList = []; // province;\n\n      this.comSelectedList = []; // comuni;\n\n      this.isVisibleLink = false;\n    }\n\n    ngOnInit() {\n      this.getAllRegioniFromAPI();\n      this.provSelectedList = [];\n      this.comSelectedList = [];\n    } // tslint:disable-next-line: typedef\n\n\n    getAllRegioniFromAPI() {\n      console.log('getAllRegioniFromAPI - Before this.callApiService.getRegioni');\n      this.callApiService.getRegioni().subscribe(result => {\n        console.log('getRegioni - result: ' + result);\n        this.regioneList = result;\n        console.log('getRegioni - this.regioneList: ' + this.regioneList);\n      }, error => {\n        console.log('getRegioni - failed call: ', error);\n      });\n    } // tslint:disable-next-line: typedef\n\n\n    getProvinceOfIdRegioneFromAPI(idReg) {\n      console.log('getProvinceOfIdRegioneFromAPI - Before this.callApiService.getProvinceByIdRegione');\n      this.callApiService.getProvinceByIdRegione(idReg).subscribe(result => {\n        console.log('getProvinceByIdRegione - result: ' + result);\n        this.provSelectedList = result;\n        console.log('getProvinceByIdRegione - this.provSelectedList: ' + this.provSelectedList);\n      }, error => {\n        console.log('getProvinceByIdRegione - failed call: ', error);\n      });\n    } // tslint:disable-next-line: typedef\n\n\n    getComuniByIdProvinciaFromAPI(idProv) {\n      console.log('getComuniByIdProvinciaFromAPI - Before this.callApiService.getComuniByIdProvincia');\n      this.callApiService.getComuniByIdProvincia(idProv).subscribe(result => {\n        console.log('getComuniByIdProvincia - result: ' + result);\n        this.comSelectedList = result;\n        console.log('getComuniByIdProvincia - this.comSelectedList: ' + this.comSelectedList);\n      }, error => {\n        console.log('getComuniByIdProvincia - failed call: ', error);\n      });\n    }\n\n    changeRegione(event) {\n      const idRegione = Number(event.target.value);\n      console.log('changeRegione - idRegione selected = ' + idRegione); // save the  data using store methods  \n\n      this.locStorage.store('idRegione', idRegione);\n      this.comSelectedList = [];\n      this.isVisibleLink = false;\n\n      if (idRegione === 0) {\n        this.provSelectedList = [];\n      } else {\n        /* const result = province.filter(p => p.IdRegione === idRegione);\r\n        this.provSelected = result; */\n        this.getProvinceOfIdRegioneFromAPI(idRegione);\n      }\n    }\n\n    changeProvincia(event) {\n      const idProvincia = Number(event.target.value);\n      console.log('changeProvincia - idProvincia selected = ' + idProvincia); // save the  data using store methods  \n\n      this.locStorage.store('idProvincia', idProvincia);\n      this.isVisibleLink = false;\n\n      if (idProvincia === 0) {\n        this.provSelectedList = [];\n        this.comSelectedList = [];\n      } else {\n        /* const result = comuni.filter(p => p.IdProvincia === idProvincia);\r\n        this.comSelected = result; */\n        this.getComuniByIdProvinciaFromAPI(idProvincia);\n      }\n    }\n\n    changeComune(event) {\n      this.rootAppUrl = AppConfig.settings.apiServer.rootAppUrl;\n      const idComune = Number(event.target.value);\n      console.log('changeComune - idComune selected = ' + idComune); // save the  data using store methods  \n\n      this.locStorage.store('idComune', idComune);\n      this.isVisibleLink = false;\n\n      if (idComune > 0) {\n        this.isVisibleLink = true;\n      }\n    }\n\n  }\n\n  RegioniListComponent.ɵfac = function RegioniListComponent_Factory(t) {\n    return new (t || RegioniListComponent)(i0.ɵɵdirectiveInject(i1.RESTAPI), i0.ɵɵdirectiveInject(i2.LocalStorageService), i0.ɵɵdirectiveInject(LOCALE_ID));\n  };\n\n  RegioniListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegioniListComponent,\n    selectors: [[\"app-regioni-list\"]],\n    decls: 16,\n    vars: 5,\n    consts: [[2, \"padding-left\", \"5%\", \"padding-top\", \"2%\"], [1, \"container\", 2, \"padding-left\", \"5%\"], [1, \"row\"], [1, \"col-sm-4\"], [3, \"change\"], [3, \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"style\", \"margin-top: 6%;\", 4, \"ngIf\"], [2, \"margin-top\", \"6%\"], [\"mat-raised-button\", \"\", \"routerLinkActive\", \"router-link-active\", \"target\", \"_blank\", 3, \"routerLink\"]],\n    template: function RegioniListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"Manca bootstrap\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h3\");\n        i0.ɵɵtext(6, \"Regione\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"select\", 4);\n        i0.ɵɵlistener(\"change\", function RegioniListComponent_Template_select_change_7_listener($event) {\n          return ctx.changeRegione($event);\n        });\n        i0.ɵɵelementStart(8, \"option\", 5);\n        i0.ɵɵtext(9, \"seleziona regione\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, RegioniListComponent_option_10_Template, 2, 2, \"option\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 3);\n        i0.ɵɵtemplate(12, RegioniListComponent_div_12_Template, 7, 2, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 3);\n        i0.ɵɵtemplate(14, RegioniListComponent_div_14_Template, 7, 2, \"div\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(15, RegioniListComponent_div_15_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"value\", 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.regioneList);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.provSelectedList.length > 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.comSelectedList.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isVisibleLink);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLinkWithHref, i4.RouterLinkActive],\n    styles: [\"section[_ngcontent-%COMP%]{display:table}.example-label[_ngcontent-%COMP%]{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;width:490px}.example-button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}\"]\n  });\n  return RegioniListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}