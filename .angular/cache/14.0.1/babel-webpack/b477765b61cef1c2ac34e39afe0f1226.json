{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { comuni } from '../../models/comune';\nlet RegioniListComponent = class RegioniListComponent {\n  constructor(callApiService) {\n    this.callApiService = callApiService; // this.regioneList = regioni;\n\n    this.regioneList = [];\n    this.provSelected = null; // province;\n\n    this.comSelected = comuni;\n    this.isVisibleLink = false;\n  }\n\n  ngOnInit() {\n    this.getAllRegioniFromAPI();\n    this.provSelected = null;\n    this.comSelected = [];\n  } // tslint:disable-next-line: typedef\n\n\n  getAllRegioniFromAPI() {\n    console.log('getAllRegioniFromAPI - Before this.callApiService.getRegioni');\n    this.callApiService.getRegioni().subscribe(result => {\n      console.log('result: ' + result);\n      this.regioneList = result;\n      console.log('this.regioneList: ' + this.regioneList);\n    }, error => {\n      console.log('failed calc', error);\n    });\n  } // tslint:disable-next-line: typedef\n\n\n  getProvinciaOfRegioneFromAPI() {\n    console.log('getProvinciaOfRegioneFromAPI - Before this.callApiService.getProvinceByIdRegione');\n    this.callApiService.getProvinceByIdRegione(this.provSelected).subscribe(result => {\n      this.provSelected = result;\n    }, error => {\n      console.log('failed calc', error);\n    });\n  } // tslint:disable-next-line: typedef\n\n\n  getAllComuniFromAPI() {\n    this.callApiService.getComuni(this.comSelected).subscribe(result => {\n      this.comSelected = result;\n    }, error => {\n      console.log('failed calc', error);\n    });\n  }\n\n  changeRegione(event) {\n    const idRegione = Number(event.target.value);\n    this.comSelected = [];\n    this.isVisibleLink = false;\n\n    if (idRegione === 0) {\n      this.provSelected = null;\n    } else {\n      /* const result = province.filter(p => p.IdRegione === idRegione);\r\n      this.provSelected = result; */\n      this.provSelected = this.getProvinciaOfRegioneFromAPI();\n    }\n  }\n\n  changeProvincia(event) {\n    const idProvincia = Number(event.target.value);\n    this.isVisibleLink = false;\n\n    if (idProvincia === 0) {\n      this.provSelected = null;\n      this.comSelected = [];\n    } else {\n      const result = comuni.filter(p => p.IdProvincia === idProvincia);\n      this.comSelected = result;\n    }\n  }\n\n  changeComune(event) {\n    const idComune = Number(event.target.value);\n    this.isVisibleLink = false;\n\n    if (idComune > 0) {\n      this.isVisibleLink = true;\n    }\n  }\n\n};\nRegioniListComponent = __decorate([Component({\n  selector: 'app-regioni-list',\n  templateUrl: './regioni-list.component.html',\n  styleUrls: ['./regioni-list.component.css']\n})], RegioniListComponent);\nexport { RegioniListComponent };","map":null,"metadata":{},"sourceType":"module"}