{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject, LOCALE_ID } from '@angular/core';\nimport { AppConfig } from '../shared/appconfig.service';\nlet RegioniListComponent = class RegioniListComponent {\n  constructor(callApiService, locStorage, locale) {\n    this.callApiService = callApiService;\n    this.locStorage = locStorage;\n    this.locale = locale;\n    this.rootAppUrl = \"\"; // this.regioneList = regioni;\n\n    this.regioneList = [];\n    this.provSelectedList = []; // province;\n\n    this.comSelectedList = []; // comuni;\n\n    this.isVisibleLink = false;\n  }\n\n  ngOnInit() {\n    this.getAllRegioniFromAPI();\n    this.provSelectedList = [];\n    this.comSelectedList = [];\n  } // tslint:disable-next-line: typedef\n\n\n  getAllRegioniFromAPI() {\n    console.log('getAllRegioniFromAPI - Before this.callApiService.getRegioni');\n    this.callApiService.getRegioni().subscribe(result => {\n      console.log('getRegioni - result: ' + result);\n      this.regioneList = result;\n      console.log('getRegioni - this.regioneList: ' + this.regioneList);\n    }, error => {\n      console.log('getRegioni - failed call: ', error);\n    });\n  } // tslint:disable-next-line: typedef\n\n\n  getProvinceOfIdRegioneFromAPI(idReg) {\n    console.log('getProvinceOfIdRegioneFromAPI - Before this.callApiService.getProvinceByIdRegione');\n    this.callApiService.getProvinceByIdRegione(idReg).subscribe(result => {\n      console.log('getProvinceByIdRegione - result: ' + result);\n      this.provSelectedList = result;\n      console.log('getProvinceByIdRegione - this.provSelectedList: ' + this.provSelectedList);\n    }, error => {\n      console.log('getProvinceByIdRegione - failed call: ', error);\n    });\n  } // tslint:disable-next-line: typedef\n\n\n  getComuniByIdProvinciaFromAPI(idProv) {\n    console.log('getComuniByIdProvinciaFromAPI - Before this.callApiService.getComuniByIdProvincia');\n    this.callApiService.getComuniByIdProvincia(idProv).subscribe(result => {\n      console.log('getComuniByIdProvincia - result: ' + result);\n      this.comSelectedList = result;\n      console.log('getComuniByIdProvincia - this.comSelectedList: ' + this.comSelectedList);\n    }, error => {\n      console.log('getComuniByIdProvincia - failed call: ', error);\n    });\n  }\n\n  changeRegione(event) {\n    const idRegione = Number(event.target.value);\n    console.log('changeRegione - idRegione selected = ' + idRegione); // save the  data using store methods  \n\n    this.locStorage.store('idRegione', idRegione);\n    this.comSelectedList = [];\n    this.isVisibleLink = false;\n\n    if (idRegione === 0) {\n      this.provSelectedList = [];\n    } else {\n      /* const result = province.filter(p => p.IdRegione === idRegione);\r\n      this.provSelected = result; */\n      this.getProvinceOfIdRegioneFromAPI(idRegione);\n    }\n  }\n\n  changeProvincia(event) {\n    const idProvincia = Number(event.target.value);\n    console.log('changeProvincia - idProvincia selected = ' + idProvincia); // save the  data using store methods  \n\n    this.locStorage.store('idProvincia', idProvincia);\n    this.isVisibleLink = false;\n\n    if (idProvincia === 0) {\n      this.provSelectedList = [];\n      this.comSelectedList = [];\n    } else {\n      /* const result = comuni.filter(p => p.IdProvincia === idProvincia);\r\n      this.comSelected = result; */\n      this.getComuniByIdProvinciaFromAPI(idProvincia);\n    }\n  }\n\n  changeComune(event) {\n    this.rootAppUrl = AppConfig.settings.apiServer.rootAppUrl;\n    const idComune = Number(event.target.value);\n    console.log('changeComune - idComune selected = ' + idComune); // save the  data using store methods  \n\n    this.locStorage.store('idComune', idComune);\n    this.isVisibleLink = false;\n\n    if (idComune > 0) {\n      this.isVisibleLink = true;\n    }\n  }\n\n};\nRegioniListComponent = __decorate([Component({\n  selector: 'app-regioni-list',\n  templateUrl: './regioni-list.component.html',\n  styleUrls: ['./regioni-list.component.css']\n}), __param(2, Inject(LOCALE_ID))], RegioniListComponent);\nexport { RegioniListComponent };","map":null,"metadata":{},"sourceType":"module"}